potatofs (3.0.2-1) unstable; urgency=medium

  * Also track fs_info format in our major version changes
  * Apparently ContentLength can sometimes be nil on a S3 GetObject(), so
    fallback to doing a Stat() ourselves when that happens. Observed on
    Cloudflare. Doesn't seem like the AWS S3 SDK planned for this.

 -- Pascal Lalonde <plalonde@overnet.ca>  Fri, 30 Jan 2026 09:37:07 -0500

potatofs (3.0.1-1) unstable; urgency=medium

  * Use after free

 -- Pascal Lalonde <plalonde@overnet.ca>  Mon, 08 Sep 2025 19:35:30 -0400

potatofs (3.0.0-2) unstable; urgency=medium

  * Version fixes

 -- Pascal Lalonde <plalonde@overnet.ca>  Mon, 08 Sep 2025 19:32:02 -0400

potatofs (3.0.0-1) unstable; urgency=medium

  * Fixed potential bug in n_free tracking in slabs
  * Fixed size check in inode_inspect
  * Let fsck fix bad n_free count on itbl
  * Additional validation on inodes in fsck
  * Fixed inode command
  * error logging fix in backend_s3, worker count default increase
  * Added is_clean command to potatoctl for scripts
  * README updates
  * Remove unused function prototype
  * Added a find_inode_dir to locate the directory's inode where another
    inode is contained
  * Made load_dir() more reusable
  * Add a convenience tag script, use tags to determine version

 -- Pascal Lalonde <plalonde@overnet.ca>  Mon, 08 Sep 2025 19:30:02 -0400

potatofs (2.12.11-4) unstable; urgency=medium

  * control syntax

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 17:00:56 -0400

potatofs (2.12.11-3) unstable; urgency=medium

  * control desc fix

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 16:57:27 -0400

potatofs (2.12.11-2) unstable; urgency=medium

  * deb lint fixes

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 16:56:09 -0400

potatofs (2.12.11-1) unstable; urgency=medium

  * Don't build go exec with debug symbols

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 16:51:33 -0400

potatofs (2.12.10-2) unstable; urgency=medium

  * Add dh-golang build dep

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 16:46:59 -0400

potatofs (2.12.10-1) unstable; urgency=medium

  * Build backend_s3 from root Makefile

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 16:44:32 -0400

potatofs (2.12.9-2) unstable; urgency=medium

  * Build backend_s3 as part of main release
  * Don't build golang part as an override

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 16:17:08 -0400

potatofs (2.12.9-1) unstable; urgency=medium

  * v2.12.9
  * Add a "wait" command that waits for the pid lock to be released.
    This can be used to ensure the potatofs instance is fully shut off
  * Report opendir() ENOMEM errors as normal fs errors to the user
  * Support single-threaded operation; this can be useful to test
    out-of-memory errors without interfering with libfuse operation
  * Add a test for some ENOMEM conditions; run these tests in a separate
    potatofs instance running single-threaded to avoid fuse thread creation
    errors
  * New async option to disable sync writes to directories and inode tables
  * Added missing fuse3 dependency
  * Comments & readme fixes
  * bugfix with recvmsg, comments
  * Fix description
  * Added a counter for slow mgr connects
  * More ctop counters

 -- Pascal Lalonde <plalonde@overnet.ca>  Thu, 04 Sep 2025 15:54:16 -0400

potatofs (2.12.8-1) unstable; urgency=medium

  * Close rows immediately after we are finished with them, don't wait for
    defer to do its thing. We want to release that lock asap.
  * Handle cases where multiple files have the same name. While this shouldn't
    happen, we should be ready for it.

 -- Pascal Lalonde <plalonde@overnet.ca>  Sun, 30 Apr 2023 15:48:42 -0400

potatofs (2.12.7-1) unstable; urgency=medium

  * Not using DEB_BUILD_MAINT_OPTIONS; comment out again
  * typo
  * Add hardening build options

 -- Pascal Lalonde <plalonde@overnet.ca>  Sun, 16 Apr 2023 11:37:45 -0400

potatofs (2.12.6-2) unstable; urgency=medium

  * Set hardening during build; remove unused readme

 -- Pascal Lalonde <plalonde@overnet.ca>  Sun, 16 Apr 2023 11:14:36 -0400

potatofs (2.12.6-1) unstable; urgency=medium

  * Update description
  * Fix reference from potatofs(1) -> potatofs.conf(5)
  * cleanup
  * Adjust logging and ignore some more signals.
    The unmount sequence still seems problematic when the OS it shutting down.
    Increase logging in fs_destroy() and block some more signals just in case
    we're getting something unexpected.
  * Follow Debian's version scheme; this is a non-native package

 -- Pascal Lalonde <plalonde@overnet.ca>  Sat, 15 Apr 2023 16:41:22 -0400
